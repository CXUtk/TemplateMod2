# TRMod UI编辑器 设计文档

## 目标
- 实现一个通用独立UI库
- 实现一个多用途独立UI编辑器
- 支持UI基本组件
- 支持多组件、自定义组件
- 提供多种对齐，布局支持
- 能够直接生成UI对应代码，并且支持保存模板

## UI库设计
- 通过树形UI结构，锚点定位来实现UI定位
- 以TR、XNA环境作为图形基础
- 使用优先队列/有序平衡树/栈存储管理UI前端，从而实现后出现的窗口在最前绘制或者高优先级的窗口在最前
- 每一个UI场景都使用UIState作为根节点

## 编辑器设计
- 每个UI元素直接实时渲染在屏幕上
- 侧边栏有树形结构帮助用户看清UI结构
- 每个元素可以拖动，缩放和旋转
- 每个元件可以使用快捷方法设置锚点和基准点
- 选中多个元素可以快速对齐

## 待实现基本组件
### 第一阶段
[ ] UIElement 所有UI元素的基类
[ ] UIPanel 一个普通白板，支持替换贴图改变其外观
[ ] UIButton 按钮，支持按钮文本对齐，渐变，鼠标事件等
[ ] UILabel 文本标签组件，支持字体调整，换行，对齐等操作
[ ] UITextBox 输入框，与标签要求一致，多加一个输入事件

### 第二阶段
[ ] UIWindow 可拖动的基本窗体
[ ] UIScrollBar 滚动条
[ ] UIListView 带滚动条的UI列表
[ ] UIGridView 带滚动条的UI网格布局
[ ] UITreeView 带滚动条的树形列表